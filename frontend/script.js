document.getElementById('addQuery').addEventListener('click', function () {    const container = document.getElementById('queriesContainer');    const queryDiv = document.createElement('div');    queryDiv.innerHTML = `        <input type="text" class="query" placeholder="如: .hd .title">        <button type="button" class="remove-query">删除</button>    `;    container.appendChild(queryDiv);    queryDiv.querySelector('.remove-query').addEventListener('click', function () {        container.removeChild(queryDiv);    });});document.getElementById('addProxy').addEventListener('click', function () {    const container = document.getElementById('proxiesContainer');    const proxyDiv = document.createElement('div');    proxyDiv.innerHTML = `        <input type="text" class="proxy" placeholder="如: http://123.45.67.89:8080">        <button type="button" class="remove-proxy">删除</button>    `;    container.appendChild(proxyDiv);    proxyDiv.querySelector('.remove-proxy').addEventListener('click', function () {        container.removeChild(proxyDiv);    });});document.getElementById('addCookie').addEventListener('click', function () {    const container = document.getElementById('cookiesContainer');    const cookieDiv = document.createElement('div');    cookieDiv.innerHTML = `        <input type="text" class="cookie" placeholder="如: name=value">        <button type="button" class="remove-cookie">删除</button>    `;    container.appendChild(cookieDiv);    cookieDiv.querySelector('.remove-cookie').addEventListener('click', function () {        container.removeChild(cookieDiv);    });});document.getElementById('addUserAgent').addEventListener('click', function () {    const container = document.getElementById('userAgentsContainer');    const userAgentDiv = document.createElement('div');    userAgentDiv.innerHTML = `        <input type="text" class="userAgent" placeholder="如: Mozilla/5.0 ...">        <button type="button" class="remove-userAgent">删除</button>    `;    container.appendChild(userAgentDiv);    userAgentDiv.querySelector('.remove-userAgent').addEventListener('click', function () {        container.removeChild(userAgentDiv);    });});document.getElementById('scraperForm').addEventListener('submit', function (event) {    event.preventDefault();    const url = document.getElementById('url').value;    const queries = [];    document.querySelectorAll('#queriesContainer .query').forEach(input => {        const query = input.value;        if (query) {            queries.push(query);        }    });    const proxies = [];    document.querySelectorAll('#proxiesContainer .proxy').forEach(input => {        const proxy = input.value;        if (proxy) {            proxies.push(proxy);        }    });    const cookies = [];    document.querySelectorAll('#cookiesContainer .cookie').forEach(input => {        const cookie = input.value;        if (cookie) {            cookies.push(cookie);        }    });    const userAgents = [];    document.querySelectorAll('#userAgentsContainer .userAgent').forEach(input => {        const userAgent = input.value;        if (userAgent) {            userAgents.push(userAgent);        }    });    fetch('/scrape', {        method: 'POST',        headers: {            'Content-Type': 'application/json'        },        body: JSON.stringify({ url, queries, proxies, cookies, userAgents })    })        .then(response => response.json())        .then(data => {            const resultsContainer = document.getElementById('results');            resultsContainer.innerHTML = ''; // Clear previous results            if (data.error) {                resultsContainer.textContent = 'Error: ' + data.error;            } else {                const ul = document.createElement('ul');                data.data.slice(0, 10).forEach(item => {                    const li = document.createElement('li');                    li.textContent = item;                    ul.appendChild(li);                });                resultsContainer.appendChild(ul);                const saveButton = document.getElementByIdfunction saveResults(data) {    const blob = new Blob([data.join('\n')], { type: 'text/plain' });    const a = document.createElement('a');    a.href = URL.createObjectURL(blob);    a.download = 'results.txt';    a.click();}            }        });});